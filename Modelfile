FROM ./finetuned-qwen-merged.q8_0.gguf

# Streaming-friendly defaults; avoid truncating JSON tool calls
PARAMETER temperature 0.2
PARAMETER top_p 0.9
# Do not add generic stop markers (e.g., "###"). Rely on EOS so Spring AI can detect JSON boundaries.
# PARAMETER stop "###"  # intentionally not used

# Keep template minimal; let Ollama/Spring AI supply tools/messages.
TEMPLATE """
{{- if .Tools }}
You are an AI assistant that can call tools. To use a tool, output JSON with exactly "tool_name" and "tool_arguments".
Do not wrap JSON in natural language. Do not include additional text.
{{- end }}
{{ .System }}
{{ .Prompt }}
"""
